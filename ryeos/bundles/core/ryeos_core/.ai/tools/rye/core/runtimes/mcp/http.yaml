# rye:signed:2026-02-26T05:52:23Z:fd4c3a1143ab837ca4388a746e3fa0f4e550fc231521eb50dffd2cffd98eeb1c:iL1bvjFA8QukhYWvs8RGTqK3V07Z7URVSfdbO09Y5JjllmcVRP3rNLKSqF6TOns4FjAGLR_l2SoVsUXlKT-eBg==:4b987fd4e40303ac
version: "1.0.0"
tool_type: runtime
executor_id: rye/core/primitives/subprocess
category: rye/core/runtimes/mcp
description: "MCP HTTP runtime - executes MCP tools via HTTP transport"

env_config:
  interpreter:
    type: local_binary
    binary: python
    candidates: [python3]
    search_paths: [".venv/bin", ".venv/Scripts"]
    var: RYE_PYTHON
    fallback: python3
  env:
    PYTHONUNBUFFERED: "1"

config:
  command: "${RYE_PYTHON}"
  args:
    - "{system_space}/tools/rye/core/mcp/connect.py"
    - "--server-config"
    - "{server_config_path}"
    - "--tool"
    - "{tool_name}"
    - "--params"
    - "{params_json}"
    - "--project-path"
    - "{project_path}"
  timeout: 60

config_schema:
  type: object
  properties:
    server:
      type: string
      description: "Relative tool ID to server config (e.g., mcp/servers/context7)"
    tool_name:
      type: string
      description: MCP tool name to call
    timeout:
      type: number
      description: Execution timeout in seconds
      default: 60
  required: [server, tool_name]
