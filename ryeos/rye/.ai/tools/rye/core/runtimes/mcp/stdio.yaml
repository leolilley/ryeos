# rye:signed:2026-02-23T00:43:13Z:c42df67b9a342c957516c6082ad6e2343226bfa5b9fc798bd40ee58842647df4:935R2OXTpaTDekVG-53TmjMIZMaw3f-SLiVvbJ4HpqfldWEgSB5V0uO3jsEgM3X29DpcNQbH5e8GR0E8nVpCCA==:9fbfabe975fa5a7f
version: "1.0.0"
tool_type: runtime
executor_id: rye/core/primitives/subprocess
category: rye/core/runtimes/mcp
description: "MCP stdio runtime - executes MCP tools via stdio transport"

env_config:
  interpreter:
    type: local_binary
    binary: python
    candidates: [python3]
    search_paths: [".venv/bin", ".venv/Scripts"]
    var: RYE_PYTHON
    fallback: python3
  env:
    PYTHONUNBUFFERED: "1"

config:
  command: "${RYE_PYTHON}"
  args:
    - "{system_space}/tools/rye/core/mcp/connect.py"
    - "--server-config"
    - "{server_config_path}"
    - "--tool"
    - "{tool_name}"
    - "--params"
    - "{params_json}"
    - "--project-path"
    - "{project_path}"
  timeout: 60

config_schema:
  type: object
  properties:
    server:
      type: string
      description: "Relative tool ID to server config (e.g., mcp/servers/rye-os)"
    tool_name:
      type: string
      description: MCP tool name to call
    timeout:
      type: number
      description: Execution timeout in seconds
      default: 60
  required: [server, tool_name]
