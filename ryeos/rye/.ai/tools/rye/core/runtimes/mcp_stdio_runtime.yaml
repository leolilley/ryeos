# rye:signed:2026-02-22T09:00:56Z:2657ae9d5019ad16755e368b7ab63ee17a2181775b808d397edb8572fcbad5bd:JNs_5dMWnNDTlB5ZyXCXisWqY0V7U23-AoSTY51rLGbPsn8Xz6Ubd5S3eZgeJaX4mIfSZEE3thCoieVXCvUuAA==:9fbfabe975fa5a7f
version: "1.0.0"
tool_type: runtime
executor_id: rye/core/primitives/subprocess
category: rye/core/runtimes
description: "MCP stdio runtime - executes MCP tools via stdio transport"

env_config:
  interpreter:
    type: venv_python
    var: RYE_PYTHON
    fallback: python3
  env:
    PYTHONUNBUFFERED: "1"

config:
  command: "${RYE_PYTHON}"
  args:
    - "{system_space}/tools/rye/core/mcp/connect.py"
    - "--server-config"
    - "{server_config_path}"
    - "--tool"
    - "{tool_name}"
    - "--params"
    - "{params_json}"
    - "--project-path"
    - "{project_path}"
  timeout: 60

config_schema:
  type: object
  properties:
    server:
      type: string
      description: "Relative tool ID to server config (e.g., mcp/servers/rye-os)"
    tool_name:
      type: string
      description: MCP tool name to call
    timeout:
      type: number
      description: Execution timeout in seconds
      default: 60
  required: [server, tool_name]
